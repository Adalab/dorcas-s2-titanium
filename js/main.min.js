// main
'use strict';

var arrow = document.querySelector('.fieldset__rellena--arrow');

var mobileLink = document.querySelector('.mobileLink');
var emailLink = document.querySelector('.emailLink');
var linkedinLink = document.querySelector('.linkedinLink');
var githubLink = document.querySelector('.githubLink');

var inputEmail = document.querySelector('.fieldset__rellena--input-email');
var inputTelefono = document.querySelector('.fieldset__rellena--input-mobile');
var inputLinkedin = document.querySelector('.fieldset__rellena--input-linkedin');
var inputGithub = document.querySelector('.fieldset__rellena--input-github');

arrow.addEventListener('click', teste);


var contact = document.querySelector('.contact');

contact.addEventListener('keyup', showIcon);

// TODO: llamar localStorage //


function showIcon(event) {
  if (event.target !== event.currentTarget) {

    notif(event.target.value);

    var guilty = event.target.className;
    var changeIcon;

    if (guilty.indexOf('email') >= 0) {
      var email2Link = event.target.value;
      emailLink.href = 'mailto:' + email2Link;
      changeIcon = 'email';

    } else if (guilty.indexOf('mobile') >= 0) {
      var mobile2Link = event.target.value;
      mobileLink.href = 'tel:' + mobile2Link;
      changeIcon = 'mobile';

    } else if (guilty.indexOf('linkedin') >= 0) {
      var linkedin2Link = event.target.value;
      linkedinLink.href = 'http://linkedin.com/in/' + linkedin2Link;
      changeIcon = 'linkedin';

    } else if (guilty.indexOf('github') >= 0) {
      var github2Link = event.target.value;
      githubLink.href = 'https://github.com/' + github2Link;
      changeIcon = 'github';
    }

    var icon2Toggle = document.querySelector("." + changeIcon);

    if (event.target.value === "") {
      icon2Toggle.style.display = 'none';
    } else {
      icon2Toggle.style.display = 'flex';
    }
    event.stopPropagation();
  }
}
'use strict';

var nameField = document.querySelector('.fieldset--name');
var roleField = document.querySelector('.fieldset--role');

function writeData(event){
  var guiltyElement = event.currentTarget;
  var targetID = guiltyElement.getAttribute('data-donde');
 document.querySelector('#' + targetID).innerHTML = guiltyElement.value;
}
nameField.addEventListener('keyup', writeData);
roleField.addEventListener('keyup', writeData);
'use strict';

var fr = new FileReader();
var fotoURL;

var uploadBtn = document.querySelector('.añadir__upload-btn');
var fileField = document.querySelector('#img-selector');
var profileImage = document.querySelector('.card__pic');
var miniBox = document.querySelector('.mini');

function getImage(e) {
  var myFile = e.currentTarget.files[0];
  fr.addEventListener('load', writeImage);
  fr.readAsDataURL(myFile);
}

function writeImage() {
  fotoURL = 'url(' + fr.result + ')';
  profileImage.style.backgroundImage = 'url(' + fr.result + ')';
  miniBox.style.backgroundImage = 'url(' + fr.result + ' )';
}

function fakeFileClick() {
  fileField.click();
}
fileField.addEventListener('change', getImage);
uploadBtn.addEventListener('click', fakeFileClick);
'use strict';
/* global nameField roleField profileImage inputEmail inputTelefono inputLinkedin inputGithub miniBox fotoURL */

// Funciones localstorage

var infoTarjeta = {};

function guardarDataLS() {

  if (!localStorage.getItem('Profile-Card')) {
    infoTarjeta = {
      'nombre': '',
      'puesto': '',
      'foto': '',
      'email': '',
      'telefono': '',
      'linkedin': '',
      'github': '',
      'habilidade1': '',
      'habilidade2': '',
      'habilidade3': '',
      'color': '',
      'fuente': ''
    }

  } else {
    infoTarjeta = JSON.parse(localStorage.getItem('Profile-Card'));
  }
  infoTarjeta.nombre = nameField.value;
  infoTarjeta.puesto = roleField.value;
  infoTarjeta.foto = fotoURL;
  infoTarjeta.email = inputEmail.value;
  infoTarjeta.telefono = inputTelefono.value;
  infoTarjeta.linkedin = inputLinkedin.value;
  infoTarjeta.github = inputGithub.value;
  infoTarjeta.habilidade1 = null
  infoTarjeta.habilidade2 = null
  infoTarjeta.habilidade3 = null
  infoTarjeta.color = null
  infoTarjeta.fuente = null

  localStorage.setItem('Profile-Card', JSON.stringify(infoTarjeta));
}

function recuperarDataLS() {
  if (localStorage.getItem('Profile-Card')) {
    infoTarjeta = JSON.parse(localStorage.getItem('Profile-Card'));
    nameField.value = infoTarjeta.nombre;
    roleField.value = infoTarjeta.puesto;
    profileImage.style.backgroundImage = infoTarjeta.foto;
    miniBox.style.backgroundImage = infoTarjeta.foto;
    profileImage.value = infoTarjeta.foto;
    inputEmail.value = infoTarjeta.email;
    inputTelefono.value = infoTarjeta.telefono;
    inputLinkedin.value = infoTarjeta.linkedin;
    inputGithub.value = infoTarjeta.github;
  }
}

// -------------- Se ejecuta al iniciar la página
recuperarDataLS()
//# sourceMappingURL=main.min.js.map
